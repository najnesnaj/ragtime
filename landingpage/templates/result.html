<!doctype html>

<html lang="en">

<head>

    <meta charset="utf-8">

    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <title>Processing Results</title>

    <script>

        function showPopup(text) {

            const popup = window.open('', 'Popup', 'width=600,height=400');

            popup.document.write('<html><head><title>Extracted Text</title></head><body>');

            popup.document.write('<h1>Extracted Text</h1>');

            popup.document.write('<pre>' + text + '</pre>');

            popup.document.write('<button onclick="window.close()">Close</button>');

            popup.document.write('</body></html>');

            popup.document.close();

        }

    </script>

</head>

<body>

    <h1>Processing Results</h1>

    <ul>

        {% for result in results %}

            {% if result.startswith("File has been split") or result.startswith("Summary") %}

                <li>{{ result }}</li>

            {% else %}

                <li><button onclick="showPopup('{{ result|e }}')">Show Extracted Text</button></li>

            {% endif %}

        {% endfor %}

    </ul>

    <a href="{{ url_for('upload_file') }}">Upload another file</a>

</body>

</html>


